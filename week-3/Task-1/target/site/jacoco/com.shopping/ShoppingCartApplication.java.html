<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>ShoppingCartApplication.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">Shopping Cart TDD</a> &gt; <a href="index.source.html" class="el_package">com.shopping</a> &gt; <span class="el_source">ShoppingCartApplication.java</span></div><h1>ShoppingCartApplication.java</h1><pre class="source lang-java linenums">package com.shopping;

<span class="nc" id="L3">public class ShoppingCartApplication {</span>
    
    public static void main(String[] args) {
<span class="nc" id="L6">        System.out.println(&quot;=== Shopping Cart TDD Demo ===\n&quot;);</span>
        
        // Create products
<span class="nc" id="L9">        Product laptop = new Product(&quot;1&quot;, &quot;Gaming Laptop&quot;, 1299.99, 10);</span>
<span class="nc" id="L10">        Product mouse = new Product(&quot;2&quot;, &quot;Wireless Mouse&quot;, 49.99, 50);</span>
<span class="nc" id="L11">        Product keyboard = new Product(&quot;3&quot;, &quot;Mechanical Keyboard&quot;, 199.99, 25);</span>
        
<span class="nc" id="L13">        System.out.println(&quot;Products created:&quot;);</span>
<span class="nc" id="L14">        System.out.println(&quot;- &quot; + laptop.getName() + &quot;: $&quot; + laptop.getPrice());</span>
<span class="nc" id="L15">        System.out.println(&quot;- &quot; + mouse.getName() + &quot;: $&quot; + mouse.getPrice());</span>
<span class="nc" id="L16">        System.out.println(&quot;- &quot; + keyboard.getName() + &quot;: $&quot; + keyboard.getPrice());</span>
<span class="nc" id="L17">        System.out.println();</span>
        
        // Create shopping cart
<span class="nc" id="L20">        ShoppingCart cart = new ShoppingCart();</span>
<span class="nc" id="L21">        System.out.println(&quot;Shopping cart created with ID: &quot; + cart.getId());</span>
<span class="nc" id="L22">        System.out.println();</span>
        
        // Add items to cart
<span class="nc" id="L25">        System.out.println(&quot;Adding items to cart...&quot;);</span>
<span class="nc" id="L26">        cart.addItem(laptop, 1);</span>
<span class="nc" id="L27">        cart.addItem(mouse, 2);</span>
<span class="nc" id="L28">        cart.addItem(keyboard, 1);</span>
        
<span class="nc" id="L30">        System.out.println(&quot;Cart contains &quot; + cart.getItemCount() + &quot; items&quot;);</span>
<span class="nc" id="L31">        System.out.println(&quot;Subtotal: $&quot; + String.format(&quot;%.2f&quot;, cart.getSubtotal()));</span>
<span class="nc" id="L32">        System.out.println();</span>
        
        // Apply discount
<span class="nc" id="L35">        System.out.println(&quot;Applying 10% discount...&quot;);</span>
<span class="nc" id="L36">        cart.applyDiscount(0.10);</span>
<span class="nc" id="L37">        System.out.println(&quot;Total after discount: $&quot; + String.format(&quot;%.2f&quot;, cart.getTotal()));</span>
<span class="nc" id="L38">        System.out.println();</span>
        
        // Calculate tax
<span class="nc" id="L41">        double taxRate = 0.08; // 8% tax</span>
<span class="nc" id="L42">        double tax = cart.calculateTax(taxRate);</span>
<span class="nc" id="L43">        double totalWithTax = cart.getTotalWithTax(taxRate);</span>
        
<span class="nc" id="L45">        System.out.println(&quot;Tax calculation (&quot; + (taxRate * 100) + &quot;%):&quot;);</span>
<span class="nc" id="L46">        System.out.println(&quot;- Tax amount: $&quot; + String.format(&quot;%.2f&quot;, tax));</span>
<span class="nc" id="L47">        System.out.println(&quot;- Total with tax: $&quot; + String.format(&quot;%.2f&quot;, totalWithTax));</span>
<span class="nc" id="L48">        System.out.println();</span>
        
        // Get cart summary
<span class="nc" id="L51">        CartSummary summary = cart.getSummary();</span>
<span class="nc" id="L52">        System.out.println(&quot;Cart Summary:&quot;);</span>
<span class="nc" id="L53">        System.out.println(&quot;- Unique items: &quot; + summary.getUniqueItems());</span>
<span class="nc" id="L54">        System.out.println(&quot;- Total items: &quot; + summary.getTotalItems());</span>
<span class="nc" id="L55">        System.out.println(&quot;- Subtotal: $&quot; + String.format(&quot;%.2f&quot;, summary.getSubtotal()));</span>
<span class="nc" id="L56">        System.out.println();</span>
        
        // Update quantities
<span class="nc" id="L59">        System.out.println(&quot;Updating mouse quantity to 3...&quot;);</span>
<span class="nc" id="L60">        cart.updateQuantity(mouse.getId(), 3);</span>
<span class="nc" id="L61">        System.out.println(&quot;New total: $&quot; + String.format(&quot;%.2f&quot;, cart.getTotal()));</span>
<span class="nc" id="L62">        System.out.println();</span>
        
        // Remove items
<span class="nc" id="L65">        System.out.println(&quot;Removing 1 keyboard...&quot;);</span>
<span class="nc" id="L66">        cart.removeItem(keyboard.getId(), 1);</span>
<span class="nc" id="L67">        System.out.println(&quot;Cart now contains &quot; + cart.getItemCount() + &quot; items&quot;);</span>
<span class="nc" id="L68">        System.out.println(&quot;New total: $&quot; + String.format(&quot;%.2f&quot;, cart.getTotal()));</span>
<span class="nc" id="L69">        System.out.println();</span>
        
        // JSON serialization
<span class="nc" id="L72">        System.out.println(&quot;Serializing cart to JSON...&quot;);</span>
<span class="nc" id="L73">        String json = cart.toJson();</span>
<span class="nc" id="L74">        System.out.println(&quot;JSON: &quot; + json.substring(0, Math.min(100, json.length())) + &quot;...&quot;);</span>
<span class="nc" id="L75">        System.out.println();</span>
        
        // Deserialize from JSON
<span class="nc" id="L78">        System.out.println(&quot;Deserializing cart from JSON...&quot;);</span>
<span class="nc" id="L79">        ShoppingCart newCart = ShoppingCart.fromJson(json);</span>
<span class="nc" id="L80">        System.out.println(&quot;New cart ID: &quot; + newCart.getId());</span>
<span class="nc" id="L81">        System.out.println(&quot;New cart total: $&quot; + String.format(&quot;%.2f&quot;, newCart.getTotal()));</span>
<span class="nc" id="L82">        System.out.println();</span>
        
        // Stock validation
<span class="nc" id="L85">        System.out.println(&quot;Stock validation:&quot;);</span>
<span class="nc" id="L86">        System.out.println(&quot;- Cart validates stock: &quot; + cart.validateStock());</span>
<span class="nc" id="L87">        System.out.println(&quot;- Can checkout: &quot; + cart.canCheckout());</span>
<span class="nc" id="L88">        System.out.println();</span>
        
        // Clear cart
<span class="nc" id="L91">        System.out.println(&quot;Clearing cart...&quot;);</span>
<span class="nc" id="L92">        cart.clear();</span>
<span class="nc" id="L93">        System.out.println(&quot;- Cart is empty: &quot; + cart.isEmpty());</span>
<span class="nc" id="L94">        System.out.println(&quot;- Can checkout: &quot; + cart.canCheckout());</span>
<span class="nc" id="L95">        System.out.println();</span>
        
<span class="nc" id="L97">        System.out.println(&quot;=== Demo completed successfully! ===&quot;);</span>
<span class="nc" id="L98">    }</span>
} 
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.8.202204050719</span></div></body></html>